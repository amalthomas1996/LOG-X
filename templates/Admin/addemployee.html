{% load static %}
{% include "Admin/header.html" %}


<div class="main-panel">

        <div class="content-wrapper">

          <div class="row">

 {% include "Admin/sidebar.html" %}

            <div class="col-md-6 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title"><br><br>ADD NEW EMPLOYEE</h5>
                  <p class="card-description">

                  </p>
                  <form class="forms-sample" method="post" action="{% url 'addemployee' %}" enctype="multipart/form-data" >
                        {% csrf_token %}
                    <div class="form-group">
                      <label >Full Name</label>
                      <input type="text" class="form-control" placeholder="Full Name" name="empname" required>
                    </div>
                    <div class="form-group">
                      <label >Employee Code</label>
                      <input type="text" class="form-control" name="empcode" id="empcode" readonly>
                    </div>
                    <div class="form-group">
                      <label >Employee Role</label>
                      <select class="form-control" name="role" required>
                      <option >Project Manager</option>
                      <option >Employee</option>

                    </select>
                    </div>
                    <div class="form-group">
                      <label >Email</label>
                      <input type="email" class="form-control"  name="email" required>
                    </div>
                    <div class="form-group">
                      <label >Phone</label>
                      <input type="text" class="form-control" name="phone" required pattern="[0-9]{10}">
                    </div>
                    <div class="form-group">
                      <label >Photo</label>
                      <input type="file" name="empphoto" class="form-control" required>
                    </div>


                    <button type="submit" class="btn btn-primary mr-2">Submit</button>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
 </div>
<script>
  function generateEmployeeCode() {
    // Generate 2 random alphabets
    var alphabets = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    var firstTwoLetters = '';
    for (var i = 0; i < 2; i++) {
        firstTwoLetters += alphabets.charAt(Math.floor(Math.random() * alphabets.length));
    }

    // Generate 4 random digits
    var randomNumber = Math.floor(1000 + Math.random() * 9000);

    // Concatenate alphabets and digits to form the 6-digit code
    var empCode = firstTwoLetters + randomNumber;

    // Put the generated code into the input field
    document.getElementById("empcode").value = empCode;
}

// Call the function to generate the employee code when needed
generateEmployeeCode();

</script>
{% include "Admin/footer.html" %}